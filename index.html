<!DOCTYPE html>
<html lang="fr">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <title>ConvertEase - Convertisseur Multi-Fonctions</title>
  <style>
    * {
      margin: 0;
      padding: 0;
      box-sizing: border-box;
    }

    body {
      font-family: "Poppins", "Segoe UI", sans-serif;
      background: radial-gradient(circle at 20% 30%, #05070a, #0b0f17 80%);
      min-height: 100vh;
      color: #ffffff;
      padding: 20px;
      position: relative;
      overflow-x: hidden;
      transition: background 0.5s, color 0.5s;
    }

    .container {
      max-width: 1000px;
      margin: 0 auto;
      position: relative;
      z-index: 1;
    }

    header {
      text-align: center;
      margin-bottom: 60px;
      animation: fadeInDown 1s ease;
    }

    h1 {
      font-size: 4rem;
      font-weight: 900;
      background: linear-gradient(90deg, #00e1ff, #007bff, #00e1ff);
      -webkit-background-clip: text;
      background-clip: text;
      color: transparent;
      letter-spacing: -1px;
      text-shadow: 0 0 30px rgba(0, 229, 255, 0.3);
    }

    .subtitle {
      color: #ccc;
      font-size: 1.1rem;
      letter-spacing: 3px;
      text-transform: uppercase;
      opacity: 0.8;
    }

    .theme-toggle {
      position: fixed;
      top: 30px;
      right: 30px;
      background: linear-gradient(145deg, #0d0f11, #1b1f23);
      border: 2px solid #00e1ff44;
      border-radius: 50%;
      width: 60px;
      height: 60px;
      font-size: 1.5rem;
      display: flex;
      align-items: center;
      justify-content: center;
      cursor: pointer;
      transition: all 0.4s ease;
      z-index: 100;
      box-shadow: 0 0 25px rgba(0, 229, 255, 0.2);
    }

    .theme-toggle:hover {
      transform: rotate(360deg) scale(1.1);
      box-shadow: 0 0 50px rgba(0, 229, 255, 0.5);
      border-color: #00e1ff;
    }

    /* === BOUTONS DE CATÉGORIE === */
    .category-selector {
      display: grid;
      grid-template-columns: repeat(auto-fit, minmax(160px, 1fr));
      gap: 20px;
      margin-bottom: 50px;
      animation: fadeIn 1s ease;
    }

    .category-btn {
      cursor: pointer;
      font-size: 1.4rem;
      border-radius: 16px;
      border: none;
      padding: 2px;
      background: radial-gradient(circle 80px at 80% -10%, #ffffff, #181b1b);
      position: relative;
      transition: background 0.3s, transform 0.3s;
      overflow: hidden;
    }

    .category-btn:hover {
      transform: scale(0.98);
    }

    .category-btn .blob1 {
      position: absolute;
      width: 70px;
      height: 100%;
      border-radius: 16px;
      bottom: 0;
      left: 0;
      background: radial-gradient(circle 60px at 0% 100%, #3fe9ff, #0000ff80, transparent);
      box-shadow: -10px 10px 30px #0051ff2d;
    }

    .category-btn .inner {
      padding: 16px 25px;
      border-radius: 14px;
      color: #fff;
      z-index: 3;
      position: relative;
      background: radial-gradient(circle 80px at 80% -50%, #555, #0f1111);
      display: flex;
      flex-direction: column;
      align-items: center;
      gap: 8px;
    }

    .category-btn.active .inner {
      background: linear-gradient(135deg, #00e1ff, #007bff);
      color: #fff;
      box-shadow: 0 0 25px rgba(0, 136, 255, 0.6);
    }

    .category-icon {
      font-size: 2rem;
    }

    .category-text {
      font-size: 0.95rem;
      letter-spacing: 1px;
      font-weight: 600;
    }

    /* === CONVERTISSEUR === */
    .converter-card {
      background: #0b0f14;
      border: 2px solid #00e1ff33;
      border-radius: 30px;
      padding: 40px;
      box-shadow: 0 0 80px rgba(0, 229, 255, 0.05);
      animation: fadeInUp 1s ease;
    }

    .converter-section {
      display: grid;
      grid-template-columns: 1fr auto 1fr;
      gap: 30px;
      align-items: center;
      margin-bottom: 30px;
    }

    .input-group {
      background: #0a0a0a;
      border-radius: 20px;
      padding: 20px;
      border: 2px solid #00e1ff33;
    }

    .input-group label {
      font-size: 0.8rem;
      color: #00e1ffcc;
      margin-bottom: 10px;
      display: block;
    }

    .input-group input,
    select {
      width: 100%;
      background: transparent;
      border: none;
      color: #fff;
      font-size: 1.4rem;
      outline: none;
    }

    .swap-btn {
      background: linear-gradient(145deg, #00e1ff, #007bff);
      color: #000;
      border: none;
      border-radius: 50%;
      width: 70px;
      height: 70px;
      font-size: 2rem;
      cursor: pointer;
      transition: all 0.4s ease;
      box-shadow: 0 0 40px rgba(0, 229, 255, 0.4);
    }

    .swap-btn:hover {
      transform: rotate(180deg) scale(1.1);
    }

    .result-info {
      text-align: center;
      margin-top: 20px;
      font-size: 1.3rem;
      color: #00e1ff;
    }

    /* === MODE CLAIR === */
    body.light-mode {
        background: linear-gradient(145deg, #e9f3f9, #d3e3ec);
        color: #0a1a22;
        transition: background 0.6s ease, color 0.6s ease;
    }

    /* Carte de conversion */
    body.light-mode .converter-card {
        background: rgba(255, 255, 255, 0.8);
        backdrop-filter: blur(12px);
        border: 2px solid rgba(0, 187, 255, 0.25);
        box-shadow: 0 0 40px rgba(0, 187, 255, 0.15);
    }

    /* Groupes d'entrée */
    body.light-mode .input-group {
        background: #f7fbff;
        border: 2px solid rgba(0, 187, 255, 0.2);
        color: #002244;
    }

    body.light-mode label {
        color: #007bff;
        font-weight: 600;
    }

    body.light-mode input,
    body.light-mode select {
        color: #0a1a22;
    }

    /* BOUTONS & ICONES */
    body.light-mode .swap-btn {
        background: linear-gradient(145deg, #00bfff, #008cff);
        color: #fff;
        box-shadow: 0 0 20px rgba(0, 187, 255, 0.4);
    }

    body.light-mode .swap-btn:hover {
        transform: rotate(180deg) scale(1.1);
        box-shadow: 0 0 35px rgba(0, 187, 255, 0.6);
    }

    /* Sélecteurs */
    body.light-mode select {
        background: linear-gradient(145deg, #f8fcff, #e5f3ff);
        color: #004466;
        border-color: rgba(0, 187, 255, 0.3);
    }

    body.light-mode select:hover {
        border-color: #00aaff;
        box-shadow: 0 0 15px rgba(0, 187, 255, 0.3);
    }

    body.light-mode .input-group::after {
        color: #00aaff;
    }

    /* Boutons de catégorie */
    body.light-mode .category-btn .inner {
        background: radial-gradient(circle 80px at 80% -50%, #d8e9f3, #f8fcff);
        color: #004466;
    }

    body.light-mode .category-btn.active .inner {
        background: linear-gradient(135deg, #00bfff, #007bff);
        color: #fff;
        box-shadow: 0 0 25px rgba(0, 136, 255, 0.4);
    }

    /* Titre et sous-titre */
    body.light-mode h1 {
        background: linear-gradient(90deg, #008cff, #00cfff, #0099ff);
        -webkit-background-clip: text;
        color: transparent;
        text-shadow: 0 0 15px rgba(0, 187, 255, 0.3);
    }

    body.light-mode .subtitle {
        color: #004466;
        opacity: 0.8;
    }

    @keyframes fadeInDown {
      from { opacity: 0; transform: translateY(-30px); }
      to { opacity: 1; transform: translateY(0); }
    }

    @keyframes fadeInUp {
      from { opacity: 0; transform: translateY(30px); }
      to { opacity: 1; transform: translateY(0); }
    }

        /* === PERSONNALISATION DES SELECT === */
    select {
        appearance: none;
        -webkit-appearance: none;
        -moz-appearance: none;
        background: linear-gradient(145deg, #0c0f13, #11161d);
        border: 2px solid #00e1ff44;
        border-radius: 12px;
        padding: 10px 40px 10px 15px;
        font-size: 1.1rem;
        color: #00e1ff;
        transition: all 0.3s ease;
        cursor: pointer;
        position: relative;
    }

    /* Survol */
    select:hover {
        border-color: #00e1ff;
        box-shadow: 0 0 15px rgba(0, 229, 255, 0.4);
    }

    /* Flèche personnalisée */
    select::after {
        content: "▼";
        position: absolute;
        right: 15px;
        top: 50%;
        transform: translateY(-50%);
        pointer-events: none;
        color: #00e1ff;
    }

    /* Correction pour éviter le chevauchement dans certains navigateurs */
    .input-group {
        position: relative;
    }

    .input-group::after {
        content: "▼";
        position: absolute;
        right: 25px;
        top: 52%;
        transform: translateY(-50%);
        color: #00e1ff;
        font-size: 0.9rem;
        pointer-events: none;
    }

    /* En mode clair */
    body.light-mode select {
        background: #f0f7fb;
        color: #007bff;
        border-color: #00aaff55;
    }

    body.light-mode .input-group::after {
        color: #007bff;
    }

        /* === FOOTER === */
    .footer {
        margin-top: 80px;
        text-align: center;
        font-size: 1rem;
        opacity: 0;
        animation: fadeInUp 1.2s ease forwards;
        animation-delay: 1.2s;
    }

    .coffee-link {
        display: inline-flex;
        align-items: center;
        gap: 10px;
        padding: 12px 24px;
        border-radius: 50px;
        text-decoration: none;
        background: linear-gradient(135deg, #00e1ff44, #007bff22);
        border: 1px solid #00e1ff55;
        color: #00e1ff;
        font-weight: 600;
        transition: all 0.3s ease;
        box-shadow: 0 0 20px rgba(0, 229, 255, 0.15);
    }

    .coffee-link:hover {
        background: linear-gradient(135deg, #00e1ff, #007bff);
        color: #fff;
        transform: scale(1.05);
        box-shadow: 0 0 30px rgba(0, 229, 255, 0.5);
    }

    .coffee-icon {
        font-size: 1.3rem;
        transition: transform 0.3s ease;
    }

    .coffee-link:hover .coffee-icon {
        transform: rotate(-10deg) scale(1.2);
    }

    .made-with-love {
        margin-top: 20px;
        color: #aaa;
        letter-spacing: 1px;
        font-size: 0.9rem;
        opacity: 0.8;
    }

    /* --- Mode clair --- */
    body.light-mode .footer .coffee-link {
        background: linear-gradient(135deg, #dff5ff, #cceeff);
        border-color: rgba(0, 187, 255, 0.3);
        color: #007bff;
        box-shadow: 0 0 15px rgba(0, 187, 255, 0.2);
    }

    body.light-mode .footer .coffee-link:hover {
        background: linear-gradient(135deg, #00bfff, #007bff);
        color: #fff;
    }

    body.light-mode .footer .made-with-love {
        color: #004466;
        opacity: 0.8;
    }

    /* Petite animation d'apparition */
    @keyframes fadeInUp {
        from { opacity: 0; transform: translateY(30px); }
        to { opacity: 1; transform: translateY(0); }
    }

    @media (max-width: 992px) {
        h1 {
            font-size: 3rem;
        }

        .subtitle {
            font-size: 1rem;
        }

        .converter-card {
            padding: 30px;
        }

        .converter-section {
            gap: 20px;
        }

        .swap-btn {
            width: 60px;
            height: 60px;
            font-size: 1.6rem;
        }
    }

    /* Smartphones et petits écrans */
    @media (max-width: 768px) {
        body {
            padding: 15px;
        }

        header {
            margin-bottom: 40px;
        }

        h1 {
            font-size: 2.4rem;
            text-shadow: 0 0 15px rgba(0, 229, 255, 0.3);
        }

        .subtitle {
            font-size: 0.9rem;
            letter-spacing: 2px;
        }

        .category-selector {
            grid-template-columns: 1fr 1fr;
            gap: 15px;
        }

        .category-btn {
            font-size: 1rem;
        }

        .converter-card {
            padding: 25px 20px;
        }

        .converter-section {
            grid-template-columns: 1fr;
            gap: 25px;
        }

        .swap-btn {
            width: 55px;
            height: 55px;
            font-size: 1.5rem;
            margin: 0 auto;
        }

        .input-group input,
        select {
            font-size: 1.1rem;
        }

        .result-info {
            font-size: 1.1rem;
        }

        .footer {
            margin-top: 60px;
            font-size: 0.9rem;
        }

        .coffee-link {
            width: 100%;
            max-width: 280px;
        }
    }

    /* Très petits écrans (iPhone SE, etc.) */
    @media (max-width: 480px) {
        h1 {
            font-size: 1.9rem;
        }

        .subtitle {
            font-size: 0.8rem;
        }

        .category-selector {
            grid-template-columns: 1fr;
        }

        .converter-card {
            padding: 20px 15px;
        }

        .input-group {
            padding: 15px;
        }

        .swap-btn {
            width: 50px;
            height: 50px;
            font-size: 1.3rem;
        }

        .result-info {
            font-size: 1rem;
        }

        .footer {
            margin-top: 40px;
        }
    }

  </style>
</head>
<body>
  <button class="theme-toggle" id="themeToggle">🌙</button>

  <div class="container">
    <header>
      <h1>ConvertEase</h1>
      <p class="subtitle">Convertisseur Universel</p>
    </header>

    <div class="category-selector">
      <div class="category-btn active" data-category="currency">
        <div class="blob1"></div>
        <div class="inner"><div class="category-icon">💱</div><div class="category-text">Devises</div></div>
      </div>
      <div class="category-btn" data-category="length">
        <div class="blob1"></div>
        <div class="inner"><div class="category-icon">📏</div><div class="category-text">Longueur</div></div>
      </div>
      <div class="category-btn" data-category="weight">
        <div class="blob1"></div>
        <div class="inner"><div class="category-icon">⚖️</div><div class="category-text">Poids</div></div>
      </div>
      <div class="category-btn" data-category="temperature">
        <div class="blob1"></div>
        <div class="inner"><div class="category-icon">🌡️</div><div class="category-text">Température</div></div>
      </div>
      <div class="category-btn" data-category="time">
        <div class="blob1"></div>
        <div class="inner"><div class="category-icon">⏱️</div><div class="category-text">Temps</div></div>
      </div>
    </div>

    <div class="converter-card" id="converter">
      <div class="converter-section">
        <div class="input-group">
          <label>Entrée</label>
          <input type="number" id="inputValue" value="1" />
          <select id="inputUnit">
            <option>USD</option>
            <option>EUR</option>
            <option>GBP</option>
          </select>
        </div>

        <button class="swap-btn" id="swapBtn">⇄</button>

        <div class="input-group">
          <label>Sortie</label>
          <input type="text" id="outputValue" readonly />
          <select id="outputUnit">
            <option>EUR</option>
            <option>USD</option>
            <option>GBP</option>
          </select>
        </div>
      </div>

      <div class="result-info" id="resultText">1 USD = 0.93 EUR</div>
    </div>
  </div>

        <script>
            const categories = {
            currency: ["EUR","USD","GBP","JPY","CAD"],
            length: ["m","km","cm","mm","in","ft","yd","mi"],
            weight: ["kg","g","mg","lb","oz","t"],
            temperature: ["°C","°F","K"],
            time: ["s","min","h","day","week","month","year"]
            };

            // Taux fixes pour la démo (tu pourras brancher une API)
            const currencyRates = {
            EUR:{USD:1.09,GBP:0.86,JPY:160,CAD:1.48,EUR:1},
            USD:{EUR:0.92,GBP:0.79,JPY:147,CAD:1.36,USD:1},
            GBP:{EUR:1.16,USD:1.27,JPY:186,CAD:1.72,GBP:1},
            JPY:{EUR:0.0063,USD:0.0068,GBP:0.0054,CAD:0.0092,JPY:1},
            CAD:{EUR:0.68,USD:0.74,GBP:0.58,JPY:108,CAD:1}
            };

            // Sélecteurs
            const inputValue = document.getElementById("inputValue");
            const inputUnit = document.getElementById("inputUnit");
            const outputValue = document.getElementById("outputValue");
            const outputUnit = document.getElementById("outputUnit");
            const resultText = document.getElementById("resultText");
            const swapBtn = document.getElementById("swapBtn");

            // --- Gestion des catégories ---
            const categoryBtns = document.querySelectorAll(".category-btn");
            let currentCategory = "currency";

            function populateUnits(cat) {
            inputUnit.innerHTML = "";
            outputUnit.innerHTML = "";
            categories[cat].forEach(u => {
                inputUnit.innerHTML += `<option value="${u}">${u}</option>`;
                outputUnit.innerHTML += `<option value="${u}">${u}</option>`;
            });
            convert();
            }

            categoryBtns.forEach(btn => {
            btn.addEventListener("click", () => {
                categoryBtns.forEach(b => b.classList.remove("active"));
                btn.classList.add("active");
                currentCategory = btn.dataset.category;
                populateUnits(currentCategory);
            });
            });

            // --- Conversion principale ---
            function formatNumber(n) {
            return Number.isInteger(n) ? n.toString() : n.toFixed(6).replace(/\.?0+$/, "");
            }

            function convert() {
            const val = parseFloat(inputValue.value);
            const from = inputUnit.value;
            const to = outputUnit.value;
            if (isNaN(val)) { outputValue.value = ""; resultText.textContent = ""; return; }
            let res = 0;

            switch(currentCategory) {
                case "currency":
                res = val * currencyRates[from][to];
                resultText.textContent = `${val} ${from} = ${formatNumber(res)} ${to}`;
                break;

                case "length": {
                const toM = {m:1,km:1000,cm:0.01,mm:0.001,in:0.0254,ft:0.3048,yd:0.9144,mi:1609.34};
                res = val * toM[from] / toM[to];
                resultText.textContent = `${val} ${from} = ${formatNumber(res)} ${to}`;
                break;
                }

                case "weight": {
                const toKg = {kg:1,g:0.001,mg:1e-6,lb:0.453592,oz:0.0283495,t:1000};
                res = val * toKg[from] / toKg[to];
                resultText.textContent = `${val} ${from} = ${formatNumber(res)} ${to}`;
                break;
                }

                case "temperature": {
                let tempC;
                if (from === "°C") tempC = val;
                else if (from === "°F") tempC = (val - 32) * 5/9;
                else tempC = val - 273.15;
                if (to === "°C") res = tempC;
                else if (to === "°F") res = tempC * 9/5 + 32;
                else res = tempC + 273.15;
                resultText.textContent = `${val} ${from} = ${formatNumber(res)} ${to}`;
                break;
                }

                case "time": {
                const toSec = {s:1,min:60,h:3600,day:86400,week:604800,month:2629800,year:31557600};
                res = val * toSec[from] / toSec[to];
                resultText.textContent = `${val} ${from} = ${formatNumber(res)} ${to}`;
                break;
                }
            }

            outputValue.value = formatNumber(res);
            }

            // --- Inversion des unités ---
            swapBtn.addEventListener("click", () => {
            const temp = inputUnit.value;
            inputUnit.value = outputUnit.value;
            outputUnit.value = temp;
            convert();
            });

            // --- Écouteurs pour conversion instantanée ---
            [inputValue, inputUnit, outputUnit].forEach(el => el.addEventListener("input", convert));

            // --- Thème clair / sombre ---
            document.getElementById("themeToggle").addEventListener("click", () => {
            document.body.classList.toggle("light-mode");
            document.getElementById("themeToggle").textContent =
                document.body.classList.contains("light-mode") ? "☀️" : "🌙";
            });

            // --- Clic pour copier le résultat ---
            resultText.style.cursor = "pointer";
            resultText.title = "Cliquer pour copier le résultat";
            resultText.addEventListener("click", () => {
            const text = resultText.textContent;
            navigator.clipboard.writeText(text);
            resultText.textContent = "✅ Copié !";
            setTimeout(() => convert(), 1000);
            });

            // --- Initialisation ---
            populateUnits(currentCategory);
            convert();
        </script>

        <!-- === FOOTER === -->
    <div class="footer fade-in-delay-2">
    <a href="https://buymeacoffee.com/r3quiem" target="_blank" class="coffee-link">
        <span class="coffee-icon">☕</span>
        <span>Buy me a coffee</span>
    </a>
    <p class="made-with-love">made with ❤️ by r3quiem</p>
    </div>

</body>
</html>
